# 实验代码备份

```C++
#include "Dataset.h"
#include "Experiment/SineCells.h"
#include <iostream>

using namespace Experiment;
using namespace std;

int main()
{
    auto s = SineCells(3, -1.0L, 1.0L);
    unsigned long epochs = 1000;
    s.fit(
        [](unsigned long i) {
            return Dataset::getInstance()->getInput(i);
        },
        [](unsigned long i) {
            return Dataset::getInstance()->getOutput(i);
        },
        Dataset::getInstance()->getTotal(),
        epochs,
        [&s, epochs](unsigned long epoch, long double mse) {
            if (1 == epoch) {
                cout << "EPOCH,MSE" << endl;
            }
            if (epoch % 10 != 0 && epoch < epochs) {
                return;
            }
            cout << epoch << "," << mse << endl;
            if (epoch == epochs) {
                cout << "\"";
                s.dump();
                cout << "\"" << endl;
            }
        }
    );
    return 0;
}
```

程序输出：

    EPOCH,MSE
    10,0.105097
    20,0.104869
    30,0.104754
    40,0.104712
    50,0.104689
    60,0.104667
    70,0.104645
    80,0.10462
    90,0.104593
    100,0.104563
    110,0.104531
    120,0.104495
    130,0.104457
    140,0.104416
    150,0.104371
    160,0.104323
    170,0.104271
    180,0.104216
    190,0.104158
    200,0.104096
    210,0.10403
    220,0.103961
    230,0.103888
    240,0.103812
    250,0.103733
    260,0.10365
    270,0.103564
    280,0.103474
    290,0.103382
    300,0.103287
    310,0.103189
    320,0.103088
    330,0.102985
    340,0.10288
    350,0.102773
    360,0.102663
    370,0.102552
    380,0.10244
    390,0.102325
    400,0.102209
    410,0.102092
    420,0.101974
    430,0.101855
    440,0.101735
    450,0.101615
    460,0.101493
    470,0.101371
    480,0.101249
    490,0.101126
    500,0.101003
    510,0.10088
    520,0.100756
    530,0.100633
    540,0.100509
    550,0.100385
    560,0.100262
    570,0.100139
    580,0.100016
    590,0.0998928
    600,0.0997702
    610,0.099648
    620,0.0995262
    630,0.0994047
    640,0.0992837
    650,0.0991632
    660,0.0990432
    670,0.0989237
    680,0.0988047
    690,0.0986863
    700,0.0985686
    710,0.0984514
    720,0.0983349
    730,0.0982191
    740,0.0981039
    750,0.0979894
    760,0.0978757
    770,0.0977627
    780,0.0976504
    790,0.0975389
    800,0.0974281
    810,0.0973181
    820,0.097209
    830,0.0971006
    840,0.096993
    850,0.0968863
    860,0.0967804
    870,0.0966753
    880,0.0965711
    890,0.0964678
    900,0.0963653
    910,0.0962636
    920,0.0961629
    930,0.096063
    940,0.095964
    950,0.0958659
    960,0.0957687
    970,0.0956724
    980,0.095577
    990,0.0954825
    1000,0.0953889
    "0.841361*sin(-0.282611*x+0.642133)+0.605653*sin(-1.82348*x-0.693697)-0.365467*sin(0.43182*x-0.847953)"
